# OpenTelmetry Sample Application

Simple Reservation system with microservices api/booking/reservations/payments

- This application can be deployed on a Kubernetes cluster. 
- The application is monitored using OpenTelemetry Python Agent and OpenTelemetry Collector. 
- OpenTelemetry collector also collects kubernetes pod/nod level metrics
- The traces are forwaded to a mock traces ingest 
- The metrics are forwarded to prometheus


## Usage

### Building images
- $ `docker-compose build`


### Running the Application 

Once you have Kubernetes cluster (docker-desktop, minikube, EKS, GKE), apply the deployment files. NodePort services for application gateway and prometheus are exposed on Ports 30001, 30002 respectively 

- $ `kubectl apply -f k8/`
- $  traces can be generated by hitting the ingress service API `curl -v http://localhost:30001/book/somerandom`
- $  metrics can be viewed at prometheus hosted `http://localhost:30002/`
- `notice traces and metrics from ingestion service on to console`
- $ `kubectl delete -f k8/`



